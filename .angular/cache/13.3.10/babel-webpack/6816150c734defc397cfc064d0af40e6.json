{"ast":null,"code":"import { __decorate } from \"tslib\"; // Default imports\n\nimport { Component } from '@angular/core'; // Services\n\nimport { OfertasService } from '../services/ofertas.service'; // RxJS\n\nimport { Observable } from 'rxjs/Observable';\nimport { Subject } from 'rxjs';\nimport '../util/rxjs-extensions';\nlet TopoComponent = class TopoComponent {\n  constructor(ofertasService) {\n    this.ofertasService = ofertasService;\n    this.subjectPesquisa = new Subject();\n  }\n\n  ngOnInit() {\n    this.ofertas = this.subjectPesquisa.debounceTime(750).distinctUntilChanged().switchMap(termo => {\n      if (termo.trim() === '') {\n        return Observable.of([]);\n      }\n\n      return this.ofertasService.pesquisaOfertas(termo);\n    }).catch(erro => {\n      return Observable.of([]);\n    });\n  }\n\n  pesquisa(termoBusca) {\n    this.subjectPesquisa.next(termoBusca);\n  }\n\n  limpaPesquisa() {\n    this.subjectPesquisa.next('');\n  }\n\n};\nTopoComponent = __decorate([Component({\n  selector: 'app-topo',\n  templateUrl: './topo.component.html',\n  styleUrls: ['./topo.component.css'],\n  providers: [OfertasService]\n})], TopoComponent);\nexport { TopoComponent };","map":null,"metadata":{},"sourceType":"module"}